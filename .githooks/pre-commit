#!/usr/bin/env bash
set -euo pipefail

echo "[pre-commit] Running fast checks (lint, typecheck, tests, prisma generate)"

# Generate Prisma client (types + engines) to keep typings fresh
npx prisma generate

# Quality gates
npm run lint -- --max-warnings=0
npm run type-check
npm test -- --runInBand
